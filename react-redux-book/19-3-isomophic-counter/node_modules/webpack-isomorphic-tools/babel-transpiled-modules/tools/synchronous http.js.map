{"version":3,"sources":["../../source/tools/synchronous http.js"],"names":["http_request","port","response","timeout","socketTimeout","statusCode","error","Error","getBody","code","JSON","parse"],"mappings":";;;;;kBAEwBA,Y;;AAFxB;;;;;;AAEe,SAASA,YAAT,CAAsBC,IAAtB,EACf;AACC;AACA;AACA,KAAMC,WAAW,2BAAQ,KAAR,wBAAmCD,IAAnC,EAA2C,EAAEE,SAAS,IAAX,EAAiBC,eAAe,IAAhC,EAA3C,CAAjB;;AAEA;AACA;AACA,KAAIF,SAASG,UAAT,KAAwB,GAA5B,EACA;AACC,MAAMC,QAAQ,IAAIC,KAAJ,CAAUL,SAASG,UAAT,GAAsB,GAAtB,GAA4BH,SAASM,OAAT,CAAiB,MAAjB,CAAtC,CAAd;AACAF,QAAMG,IAAN,GAAaP,SAASG,UAAtB;AACA,QAAMC,KAAN;AACA;;AAED,QAAOI,KAAKC,KAAL,CAAWT,SAASM,OAAT,CAAiB,MAAjB,CAAX,CAAP;AACA","file":"synchronous http.js","sourcesContent":["import request from 'sync-request'\r\n\r\nexport default function http_request(port)\r\n{\r\n\t// \"0.0.0.0\" won't work on Windows\r\n\t// (Error: connect EADDRNOTAVAIL 0.0.0.0:9999)\r\n\tconst response = request('GET', `http://127.0.0.1:${port}`, { timeout: 1000, socketTimeout: 1000 })\r\n\r\n\t// status codes 4xx have been already thrown before this line.\r\n\t// not sure about other status codes, so just in case:\r\n\tif (response.statusCode !== 200)\r\n\t{\r\n\t\tconst error = new Error(response.statusCode + ' ' + response.getBody('utf8'))\r\n\t\terror.code = response.statusCode\r\n\t\tthrow error\r\n\t}\r\n\r\n\treturn JSON.parse(response.getBody('utf8'))\r\n}"]}