{"version":3,"sources":["../../source/tools/synchronous http.js"],"names":[],"mappings":";;;;;kBAEwB,Y;;AAFxB;;;;;;AAEe,SAAS,YAAT,CAAsB,IAAtB,EACf;AACC;AACA;AACA,KAAM,WAAW,2BAAQ,KAAR,wBAAmC,IAAnC,EAA2C,EAAE,SAAS,IAAX,EAAiB,eAAe,IAAhC,EAA3C,CAAjB;;AAEA;AACA;AACA,KAAI,SAAS,UAAT,KAAwB,GAA5B,EACA;AACC,MAAM,QAAQ,IAAI,KAAJ,CAAU,SAAS,UAAT,GAAsB,GAAtB,GAA4B,SAAS,OAAT,CAAiB,MAAjB,CAAtC,CAAd;AACA,QAAM,IAAN,GAAa,SAAS,UAAtB;AACA,QAAM,KAAN;AACA;;AAED,QAAO,KAAK,KAAL,CAAW,SAAS,OAAT,CAAiB,MAAjB,CAAX,CAAP;AACA","file":"synchronous http.js","sourcesContent":["import request from 'sync-request'\n\nexport default function http_request(port)\n{\n\t// \"0.0.0.0\" won't work on Windows\n\t// (Error: connect EADDRNOTAVAIL 0.0.0.0:9999)\n\tconst response = request('GET', `http://127.0.0.1:${port}`, { timeout: 1000, socketTimeout: 1000 })\n\n\t// status codes 4xx have been already thrown before this line.\n\t// not sure about other status codes, so just in case:\n\tif (response.statusCode !== 200)\n\t{\n\t\tconst error = new Error(response.statusCode + ' ' + response.getBody('utf8'))\n\t\terror.code = response.statusCode\n\t\tthrow error\n\t}\n\n\treturn JSON.parse(response.getBody('utf8'))\n}"]}