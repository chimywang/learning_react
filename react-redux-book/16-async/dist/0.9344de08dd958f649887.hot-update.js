webpackHotUpdate(0,{

/***/ 166:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.INVALIDATE_REDDIT = exports.SELECT_REDDIT = exports.RECEIVE_POSTS = exports.REQUEST_POSTS = undefined;\nexports.selectReddit = selectReddit;\nexports.invalidateReddit = invalidateReddit;\nexports.fetchPostsIfNeeded = fetchPostsIfNeeded;\n\nvar _isomorphicFetch = __webpack_require__(468);\n\nvar _isomorphicFetch2 = _interopRequireDefault(_isomorphicFetch);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar REQUEST_POSTS = exports.REQUEST_POSTS = 'REQUEST_POSTS';\nvar RECEIVE_POSTS = exports.RECEIVE_POSTS = 'RECEIVE_POSTS';\nvar SELECT_REDDIT = exports.SELECT_REDDIT = 'SELECT_REDDIT';\nvar INVALIDATE_REDDIT = exports.INVALIDATE_REDDIT = 'INVALIDATE_REDDIT';\n\nfunction selectReddit(reddit) {\n\n  console.log('selectReddit');\n  return {\n    type: SELECT_REDDIT,\n    reddit: reddit\n  };\n}\n\nfunction invalidateReddit(reddit) {\n  console.log('invalidateReddit');\n  return {\n    type: INVALIDATE_REDDIT,\n    reddit: reddit\n  };\n}\n\nfunction requestPosts(reddit) {\n  console.log('requestPosts');\n  return {\n    type: REQUEST_POSTS,\n    reddit: reddit\n  };\n}\n\nfunction receivePosts(reddit, json) {\n  console.log('receivePosts');\n\n  return {\n    type: RECEIVE_POSTS,\n    reddit: reddit,\n    posts: json.data.children.map(function (child) {\n      return child.data;\n    }),\n    receivedAt: Date.now()\n  };\n}\n\nfunction fetchPosts(reddit) {\n  console.log('fetchPosts');\n\n  return function (dispatch) {\n    dispatch(requestPosts(reddit));\n\n    return (0, _isomorphicFetch2.default)('https://www.reddit.com/r/' + reddit + '.json').then(function (response) {\n      console.log('response----------------------:   ' + response);\n      return response.json();\n    }).then(function (json) {\n      console.log('json----------------------:   ' + json);\n      return dispatch(receivePosts(reddit, json));\n    });\n  };\n}\n\nfunction shouldFetchPosts(state, reddit) {\n  console.log('shouldFetchPosts');\n\n  console.log('state:');\n  console.log(state);\n  console.log('reddit:');\n  console.log(reddit);\n\n  var posts = state.postsByReddit[reddit];\n  console.log('posts:');\n  console.log(posts);\n  if (!posts) {\n    console.log('return true ');\n    return true;\n  }\n  if (posts.isFetching) {\n\n    console.log('return false ');\n    return false;\n  }\n\n  console.log('posts.didInvalidate:');\n  console.log(posts.didInvalidate);\n  return posts.didInvalidate;\n}\n\nfunction fetchPostsIfNeeded(reddit) {\n  console.log('fetchPostsIfNeeded');\n\n  return function (dispatch, getState) {\n\n    if (shouldFetchPosts(getState(), reddit)) {\n\n      console.log('before----------------------:   ' + getState());\n      return dispatch(fetchPosts(reddit));\n    }\n    return null;\n  };\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTY2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL2FjdGlvbnMvaW5kZXguanM/ZTlhOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZmV0Y2ggZnJvbSAnaXNvbW9ycGhpYy1mZXRjaCc7XG5cbmV4cG9ydCBjb25zdCBSRVFVRVNUX1BPU1RTID0gJ1JFUVVFU1RfUE9TVFMnO1xuZXhwb3J0IGNvbnN0IFJFQ0VJVkVfUE9TVFMgPSAnUkVDRUlWRV9QT1NUUyc7XG5leHBvcnQgY29uc3QgU0VMRUNUX1JFRERJVCA9ICdTRUxFQ1RfUkVERElUJztcbmV4cG9ydCBjb25zdCBJTlZBTElEQVRFX1JFRERJVCA9ICdJTlZBTElEQVRFX1JFRERJVCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RSZWRkaXQocmVkZGl0KSB7XG5cbiAgY29uc29sZS5sb2coJ3NlbGVjdFJlZGRpdCcpO1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFNFTEVDVF9SRURESVQsXG4gICAgcmVkZGl0LFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW52YWxpZGF0ZVJlZGRpdChyZWRkaXQpIHtcbiAgY29uc29sZS5sb2coJ2ludmFsaWRhdGVSZWRkaXQnKTtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBJTlZBTElEQVRFX1JFRERJVCxcbiAgICByZWRkaXQsXG4gIH07XG59XG5cbmZ1bmN0aW9uIHJlcXVlc3RQb3N0cyhyZWRkaXQpIHtcbiAgY29uc29sZS5sb2coJ3JlcXVlc3RQb3N0cycpO1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFJFUVVFU1RfUE9TVFMsXG4gICAgcmVkZGl0LFxuICB9O1xufVxuXG5mdW5jdGlvbiByZWNlaXZlUG9zdHMocmVkZGl0LCBqc29uKSB7XG4gIGNvbnNvbGUubG9nKCdyZWNlaXZlUG9zdHMnKTtcblxuICByZXR1cm4ge1xuICAgIHR5cGU6IFJFQ0VJVkVfUE9TVFMsXG4gICAgcmVkZGl0LFxuICAgIHBvc3RzOiBqc29uLmRhdGEuY2hpbGRyZW4ubWFwKGNoaWxkID0+IGNoaWxkLmRhdGEpLFxuICAgIHJlY2VpdmVkQXQ6IERhdGUubm93KCksXG4gIH07XG59XG5cbmZ1bmN0aW9uIGZldGNoUG9zdHMocmVkZGl0KSB7XG4gIGNvbnNvbGUubG9nKCdmZXRjaFBvc3RzJyk7XG5cblxuICByZXR1cm4gZGlzcGF0Y2ggPT4ge1xuICAgIGRpc3BhdGNoKHJlcXVlc3RQb3N0cyhyZWRkaXQpKTtcblxuXG4gICAgcmV0dXJuIGZldGNoKGBodHRwczovL3d3dy5yZWRkaXQuY29tL3IvJHtyZWRkaXR9Lmpzb25gKVxuICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygncmVzcG9uc2UtLS0tLS0tLS0tLS0tLS0tLS0tLS0tOiAgICcrcmVzcG9uc2UpO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpfSlcbiAgICAgIC50aGVuKGpzb24gPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygnanNvbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS06ICAgJytqc29uKTtcbiAgICAgICAgcmV0dXJuIGRpc3BhdGNoKHJlY2VpdmVQb3N0cyhyZWRkaXQsIGpzb24pKX0pO1xuICB9O1xufVxuXG5mdW5jdGlvbiBzaG91bGRGZXRjaFBvc3RzKHN0YXRlLCByZWRkaXQpIHtcbiAgY29uc29sZS5sb2coJ3Nob3VsZEZldGNoUG9zdHMnKTtcblxuICBjb25zb2xlLmxvZygnc3RhdGU6Jyk7XG4gIGNvbnNvbGUubG9nKHN0YXRlKTtcbiAgY29uc29sZS5sb2coJ3JlZGRpdDonKTtcbiAgY29uc29sZS5sb2cocmVkZGl0KTtcblxuICBjb25zdCBwb3N0cyA9IHN0YXRlLnBvc3RzQnlSZWRkaXRbcmVkZGl0XTtcbiAgY29uc29sZS5sb2coJ3Bvc3RzOicpO1xuICBjb25zb2xlLmxvZyhwb3N0cyk7XG4gIGlmICghcG9zdHMpIHtcbiAgICBjb25zb2xlLmxvZygncmV0dXJuIHRydWUgJyk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKHBvc3RzLmlzRmV0Y2hpbmcpIHtcblxuICAgIGNvbnNvbGUubG9nKCdyZXR1cm4gZmFsc2UgJyk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgY29uc29sZS5sb2coJ3Bvc3RzLmRpZEludmFsaWRhdGU6Jyk7XG4gIGNvbnNvbGUubG9nKHBvc3RzLmRpZEludmFsaWRhdGUpO1xuICByZXR1cm4gcG9zdHMuZGlkSW52YWxpZGF0ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZldGNoUG9zdHNJZk5lZWRlZChyZWRkaXQpIHtcbiAgY29uc29sZS5sb2coJ2ZldGNoUG9zdHNJZk5lZWRlZCcpO1xuXG5cbiAgcmV0dXJuIChkaXNwYXRjaCwgZ2V0U3RhdGUpID0+IHtcblxuICAgIGlmIChzaG91bGRGZXRjaFBvc3RzKGdldFN0YXRlKCksIHJlZGRpdCkpIHtcblxuICAgICAgY29uc29sZS5sb2coJ2JlZm9yZS0tLS0tLS0tLS0tLS0tLS0tLS0tLS06ICAgJytnZXRTdGF0ZSgpKTtcbiAgICAgIHJldHVybiBkaXNwYXRjaChmZXRjaFBvc3RzKHJlZGRpdCkpO1xuXG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9O1xufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGFjdGlvbnMvaW5kZXguanMiXSwibWFwcGluZ3MiOiI7Ozs7OztBQU9BO0FBU0E7QUF1RUE7QUFDQTtBQXhGQTtBQUNBOzs7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBSkE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }

})